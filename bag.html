<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bag - FAB_MEN'S-WEAR</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"/>
    <link rel="icon" href="imge/logo-white.png">

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Poppins:wght@400;500;700&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap');

*{margin:0;padding:0;box-sizing:border-box;font-family:"Poppins", sans-serif;}

    :root {
      --text: #3D3C3B;
      --green: #198754;
    }

    /* body {
      padding-top: 70px; 
    } */

    /* Navbar */
    .navbar {
      background-color: #fff;
      z-index: 9999;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .brand {
      color: var(--text);
      font-size: 2rem;
      font-weight: 700;
      /* font-style: italic; */
      text-decoration: none;
        font-family: "Dancing Script", cursive;;
    }

    .icon-link {
      font-size: 1.5rem;
      color: var(--text);
      position: relative;
    }

    .nav-link {
      color: var(--text);
      font-weight: 500;
      padding: 0.3rem 1rem; 
      position: relative;
    }

    .nav-link:hover,
    .nav-link:focus {
      color: var(--green);
    }

    .nav-link.active {
      color: var(--green);
    
    }

    .navbar-search input {
      width: 100%;
      max-width: 500px;
    }

    /* Badge Styles */
    #heartCount,
    #bagCount {
      font-size: 0.65rem;
      width: 18px;
      height: 18px;
      padding: 0;
      line-height: 18px;
      top: 0;
      transform: translate(50%, -50%);
    }

    .navbar-icons {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-left: auto;
    }

    .navbar-toggler {
      border: none;
      background: none;
      font-size: 1.5rem;
      padding: 0;
    }

    @media (max-width: 767px) {
      .navbar .container-fluid {
        flex-wrap: nowrap;
      }

      .navbar-collapse {
        background-color: white;
        padding: 1rem 0;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        z-index: 999;
        text-align: center;
      }

      .navbar-search {
        margin-top: 1rem;
        justify-content: center;
      }

      .navbar-collapse .nav-link {
        display: block;
        margin: 0.5rem auto;
      }
    }

    @media (min-width: 768px) {
      .navbar-search {
        flex-grow: 1;
        margin: 0 2rem;
      }

      .navbar-collapse {
        justify-content: center;
        align-items: center;
      }
    }



/* Responsive Table */
.table img{
    width: 80px;
    height: auto;
    object-fit: contain;
}

@media (max-width: 767px){
    .navbar-icons{
        position: absolute;
        top: 0.75rem;
        right: 1rem;
        display: flex;
        align-items: center;
        gap: 15px;
    }
    .navbar-search{
        margin-top: 70px;
        margin-bottom: 15px;
    }
    table, thead, tbody, th, td, tr {
        display: block;
    }
    thead tr {
        display: none;
    }
    tbody tr {
        margin-bottom: 1rem;
        border: 1px solid #ddd;
        padding: 10px;
        border-radius: 8px;
    }
    tbody td {
        display: flex;
        justify-content: space-between;
        padding: 5px 0;
    }
    tbody td::before {
        content: attr(data-label);
        font-weight: 500;
        width: 120px;
    }
    td img {
        width: 60px;
        margin-right: 10px;
    }
    .btn-sm{
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
    }
    h3 {
        font-size: 1.2rem;
    }
}
/* ---------footersection-------- */
footer {
    background-color: rgba(255, 255, 255, 0.816);
    color: var(--text);
}

footer a {
    color: #ffffff;
}

footer a:hover {
    color: #ffc107; 
    text-decoration: none;
}

footer .btn-floating {
    font-size: 1.2rem;
    width: 40px;
    height: 40px;
    padding: 0;
}

@media (max-width: 575px) {
    footer .btn-floating {
        width: 35px;
        height: 35px;
        font-size: 1rem;
    }
}
/* ----------login------------ */

/* Modal animation */
.modal-content {
    animation: fadeIn 0.6s ease-out;
    border: none;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-50px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}


.form-control {
    border-radius: 50px;
    padding: 12px 20px;
}

.btn-modal {
    background: linear-gradient(45deg, #28a745, #20c997);
    border: none;
    padding: 10px;
}

.btn-modal:hover {
    background: linear-gradient(45deg, #20c997, #28a745);
    transform: scale(1.05);
}

.modal-header {
    border-bottom: none;
}

.modal-footer {
    border-top: none;
}

a {
    text-decoration: none;
}
/* ------------register------- */

.modal-content {
    animation: fadeIn 0.6s ease-out;
    border: none;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-50px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.form-control {
    border-radius: 50px;
    padding: 12px 20px;
}

.btn-success {
    background: linear-gradient(45deg, #28a745, #20c997);
    border: none;
}

.btn-success:hover {
    background: linear-gradient(45deg, #20c997, #28a745);
    transform: scale(1.05);
}

.modal-header {
    border-bottom: none;
}

.modal-footer {
    border-top: none;
}

a {
    text-decoration: none;
}

/* -order moda-  */

  .modal{
    z-index: 99999999;
  }
  .custom-modal {
    /* margin-top: 80px; */
    max-width: 500px; 
  
  }

  @media (max-width: 576px) {
    .custom-modal {
      max-width: 95%; 
    }
  }
  #bag{
    margin-top: 100px;
  }


</style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg fixed-top">
  <div class="container-fluid d-flex align-items-center">
    <!-- Brand -->
    <a class="brand me-3 text-success fw-bold" href="#">FAB</a>

    <!-- Right icons -->
    <div class="navbar-icons order-lg-2">
      <a class="icon-link text-decoration-none" href="wishlist.html">
        <i class="fa-regular fa-heart"></i>
        <span id="heartCount" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">0</span>
      </a>

      <a class="icon-link text-decoration-none text-success" href="bag.html">
        <i class="fa-solid fa-bag-shopping"></i>
        <span id="bagCount" class="badge position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">0</span>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu">
        <i class="fa-solid fa-bars"></i>
      </button>
    </div>

    <!-- Collapsible Menu -->
    <div class="collapse navbar-collapse" id="navbarMenu">
      <form class="d-flex navbar-search align-items-center justify-content-center" role="search">
        <input class="form-control m-2" type="search" placeholder="Search Products" />
        <button class="btn btn-outline-dark m-2" type="submit">
          <i class="fas fa-search"></i>
        </button>
      </form>

      <!-- Nav Links -->
       <a class="nav-link px-3 text-center" href="index.html">Home</a>
      <a class="nav-link px-3 text-center" href="index.html">Shop</a>
      <a class="nav-link px-3 text-center" data-bs-toggle="modal" data-bs-target="#loginModal" href="#">Login</a>
      <a class="nav-link px-3 text-center" data-bs-toggle="modal" data-bs-target="#registerModal" href="#">Register</a>
    
    </div>
  </div>
</nav>

<!-- Bag Table -->
<div class="container" id="bag">
    <h3 class="fw-bold text-center my-3"> <span class="text-success">Your </span>Bag</h3>
    <div class="table-responsive">
        <table class="table align-middle text-center">
            <thead class="table-light">
                <tr>
                    <th>Image</th>
                    <th>Name</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Subtotal</th>
                    <th>Remove</th>
                </tr>
            </thead>
            <tbody id="cartContainer"></tbody>
        </table>
    </div>

    <div class="d-flex flex-column flex-md-row justify-content-between align-items-center mt-3">
        <h3>Total Amount: â‚¹<span id="totalAmount">0</span></h3>
        <!-- <button class="btn btn-success mt-2 mt-md-0">Order Now</button> -->
           <button class="btn btn-success mt-2 mt-md-0" data-bs-toggle="modal" data-bs-target="#orderModal">Order Now</button>
    </div>
</div>
<!-- Footer Section -->
<footer class=" pt-5 pb-4">
  <hr>
    <div class="container text-md-start">
        <div class="row">

            <!-- About -->
            <div class="col-md-4 col-lg-4 col-xl-3 mx-auto mt-3">
                <h5 class="text-uppercase mb-4 text-success fw-bold">FAB Men's Wear</h5>
                <p>Providing quality men's wear at affordable prices. Fashion meets comfort and style.</p>
            </div>

            <!-- Quick Links -->
            <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mt-3">
                <h5 class="text-uppercase mb-4 text-success fw-bold">Quick Links</h5>
                <p><a href="index.html" class="text-muted text-decoration-none">Home</a></p>
                <p><a href="index.html" class="text-muted text-decoration-none">Shop</a></p>
                <p><a href="#" class="text-muted text-decoration-none" data-bs-toggle="modal" data-bs-target="#loginModal" href="#">Login</a></p>
                <p><a href="#" class="text-muted text-decoration-none" data-bs-toggle="modal" data-bs-target="#registerModal" href="#">Register</a></p>

                
            </div>

            <!-- Contact Info -->
            <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mt-3">
                <h5 class="text-uppercase mb-4  text-success fw-bold">Contact</h5>
                <p><i class="fas fa-home me-3"></i> 123 Junction Road, Virudhachalam-606001.</p>
                <p><i class="fas fa-envelope me-3"></i> support@fabmenswear.com</p>
                <p><i class="fas fa-phone me-3"></i> +91 98765 43210</p>
            </div>

            <!-- Social Media -->
            <div class="col-md-3 col-lg-3 col-xl-3 mx-auto mt-3">
                <h5 class="text-uppercase mb-4 text-success fw-bold">Follow Us</h5>
                <a href="#" class="fs-4"><i class="fab fa-facebook-f text-dark "></i></a>
                <a href="#" class="fs-4"><i class="fab fa-twitter text-dark"></i></a>
                <a href="#" class="fs-4"><i class="fab fa-instagram text-dark"></i></a>
                
            </div>

        </div>

        <hr class="my-3 bg-dark">

        <div class="row d-flex justify-content-center">
            <div class="col-md-7 col-lg-8">
                <p class="text-center">Â© 2025 FAB Men's Wear. All rights reserved.</p>
            </div>
                <small class="text-center text-muted">Created by <strong>Surya</strong></small>

        </div>
    </div>
</footer>

<!-- ----------login modal---------------------- -->
 

<!-- Login Modal -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-4 shadow-lg">
      <div class="modal-header bg-success text-white">
        <h5 class="modal-title fw-bold" id="loginModalLabel">Login to Your Account</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body p-4">
        <form id="loginForm">
          <div class="mb-3">
            <label for="email" class="form-label fw-semibold">Email address</label>
            <input type="email" class="form-control rounded-pill" id="email" placeholder="Enter your email" required>
          </div>
          <div class="mb-3">
            <label for="password" class="form-label fw-semibold">Password</label>
            <input type="password" class="form-control rounded-pill" id="password" placeholder="Enter your password" required>
          </div>
          <button type="submit" class="btn-modal  w-100 rounded-pill">Login</button>
        </form>
      </div>
      <div class="modal-footer justify-content-center">
        <small class="text-muted">Don't have an account? <a href="#" data-bs-toggle="modal" data-bs-target="#registerModal" data-bs-dismiss="modal">Register</a></small>
      </div>
    </div>
  </div>
</div>

<!-- Register Modal -->
<div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-4 shadow-lg">
      <div class="modal-header bg-success text-white">
        <h5 class="modal-title fw-bold" id="registerModalLabel">Create New Account</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body p-4">
        <form id="registerForm">
          <div class="mb-3">
            <label for="regName" class="form-label fw-semibold">Full Name</label>
            <input type="text" class="form-control rounded-pill" id="regName" placeholder="Your full name" required>
          </div>
          <div class="mb-3">
            <label for="regAddress" class="form-label fw-semibold">Address</label>
            <input type="text" class="form-control rounded-pill" id="regAddress" placeholder="Your address" required>
          </div>
          <div class="mb-3">
            <label for="regEmail" class="form-label fw-semibold">Email address</label>
            <input type="email" class="form-control rounded-pill" id="regEmail" placeholder="Enter your email" required>
          </div>
          <div class="mb-3">
            <label for="regPassword" class="form-label fw-semibold">Set Password</label>
            <input type="password" class="form-control rounded-pill" id="regPassword" placeholder="Create a password" required>
          </div>
          <button type="submit" class="btn btn-success w-100 rounded-pill">Register</button>
        </form>
      </div>
      <div class="modal-footer justify-content-center">
        <small class="text-muted">Already have an account? <a href="#" data-bs-target="#loginModal" data-bs-toggle="modal" data-bs-dismiss="modal">Login</a></small>
      </div>
    </div>
  </div>
</div>
<!-- ---------order modal----------  -->
<div class="modal fade " id="orderModal" tabindex="-1" aria-labelledby="orderModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered custom-modal">
    <div class="modal-content rounded-4 shadow-lg">
      <div class="modal-header bg-success text-white">
        <h5 class="modal-title fw-bold" id="orderModalLabel">Confirm Your Order</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="orderForm">
          <div id="orderItemsContainer"></div> <!-- Dynamic Product Forms Insert Here -->

          <hr>
          <div class="mb-3">
            <label class="form-label">Full Name</label>
            <input type="text" class="form-control rounded-pill" required>
          </div>
          <div class="mb-3">
            <label class="form-label">Address</label>
            <textarea class="form-control rounded-3" rows="2" required></textarea>
          </div>
          <div class="mb-3">
            <label class="form-label">Phone</label>
            <input type="tel" class="form-control rounded-pill" required>
          </div>

          <!-- Payment Option -->
          <div class="mb-3">
            <label class="form-label">Payment Method</label>
            <select class="form-select rounded-pill" required>
              <option value="">Select Payment Method</option>
              <option>Cash on Delivery</option>
              <option>Online Payment</option>
            </select>
          </div>

          <button type="submit" class="btn btn-success w-100 rounded-pill">Confirm Order</button>
        </form>
      </div>
    </div>
  </div>
</div>


<!-- Cart Script -->
<script>
const cartContainer = document.getElementById('cartContainer');
const totalAmountEl = document.getElementById('totalAmount');

let bagItems = JSON.parse(localStorage.getItem('bagItems')) || [];

function updateTotalAmount() {
    let total = bagItems.reduce((sum, item) => sum + item.price * item.quantity, 0);
    totalAmountEl.textContent = total.toFixed(2);
}

function renderCart() {
    cartContainer.innerHTML = '';
    if (bagItems.length === 0) {
        cartContainer.innerHTML = '<tr><td colspan="6" class="text-center">Your bag is empty.</td></tr>';
        updateTotalAmount();
        return;
    }

    bagItems.forEach((item, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td data-label="Image"><img src="${item.img}" class="img-fluid"></td>
            <td data-label="Name">${item.name}</td>
            <td data-label="Price">â‚¹${item.price}</td>
            <td data-label="Quantity">
                <button class="btn btn-sm btn-secondary" onclick="decreaseQuantity(${index})">-</button>
                <span class="mx-2">${item.quantity}</span>
                <button class="btn btn-sm btn-secondary" onclick="increaseQuantity(${index})">+</button>
            </td>
            <td data-label="Subtotal">â‚¹${(item.price * item.quantity).toFixed(2)}</td>
            <td data-label="Remove"><i class="fas fa-trash text-danger" style="cursor:pointer" onclick="removeItem(${index})"></i></td>
        `;
        cartContainer.appendChild(row);
    });

    updateTotalAmount();
}

function increaseQuantity(index) {
    bagItems[index].quantity++;
    localStorage.setItem('bagItems', JSON.stringify(bagItems));
    renderCart();
}

function decreaseQuantity(index) {
    if (bagItems[index].quantity > 1) {
        bagItems[index].quantity--;
        localStorage.setItem('bagItems', JSON.stringify(bagItems));
        renderCart();
    }
}

function removeItem(index) {
    bagItems.splice(index, 1);
    localStorage.setItem('bagItems', JSON.stringify(bagItems));
    renderCart();
}

renderCart();
</script>


<!-- Count Update Script -->
<script>
document.addEventListener('DOMContentLoaded', () => {

    function updateBagCount(){
        const bagItems = JSON.parse(localStorage.getItem('bagItems')) || [];
        const count = bagItems.reduce((sum,item)=>sum + item.quantity,0);
        const bagCountEl = document.getElementById('bagCount');
        if(bagCountEl) bagCountEl.textContent = count;
    }

    function updateHeartCount(){
        const wishlistItems = JSON.parse(localStorage.getItem('wishlist')) || [];  // Correct key: 'wishlist'
        const count = wishlistItems.length;
        const heartCountEl = document.getElementById('heartCount');
        if(heartCountEl) heartCountEl.textContent = count;
    }

    updateBagCount();
    updateHeartCount();

});
</script>
  
<!-- SweetAlert cdn for order modal -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
// Dynamic Form Fields by Category
function getProductFields(product) {
  let fields = '';
  if (product.name.toLowerCase().includes('shirt') || product.name.toLowerCase().includes('pant')) {
    fields += `
      <div class="mb-2">
        <label class="form-label">Size</label>
        <select class="form-select rounded-pill" required>
          <option value="">Select Size</option>
          <option>S</option><option>M</option><option>L</option><option>XL</option>
        </select>
      </div>`;
  }
  else if (product.name.toLowerCase().includes('cap')) {
    fields += `
      <div class="mb-2">
        <label class="form-label">Color</label>
        <input type="text" class="form-control rounded-pill" placeholder="Enter color" required>
      </div>
      <div class="mb-2">
        <label class="form-label">Size</label>
        <select class="form-select rounded-pill" required>
          <option value="">Select Size</option>
          <option>Free Size</option><option>S</option><option>M</option>
        </select>
      </div>`;
  }
  else if (product.name.toLowerCase().includes('wallet') || product.name.toLowerCase().includes('belt')) {
    fields += `
      <div class="mb-2">
        <label class="form-label">Material</label>
        <select class="form-select rounded-pill" required>
          <option value="">Select Material</option>
          <option>Leather</option><option>Faux Leather</option><option>Fabric</option>
        </select>
      </div>`;
  }
  else if (product.name.toLowerCase().includes('chain') || product.name.toLowerCase().includes('ring')) {
    fields += `
      <div class="mb-2">
        <label class="form-label">Metal Type</label>
        <select class="form-select rounded-pill" required>
          <option value="">Select Metal</option>
          <option>Gold</option><option>Silver</option><option>Platinum</option>
        </select>
      </div>`;
  }
  return fields;
}

// On Modal Open, Generate Forms for Each Bag Item
document.getElementById('orderModal').addEventListener('show.bs.modal', function () {
  const container = document.getElementById('orderItemsContainer');
  container.innerHTML = '';

  if (bagItems.length === 0) {
    container.innerHTML = `<p class="text-center text-muted">No items in your bag.</p>`;
    return;
  }

  bagItems.forEach((item, index) => {
    container.innerHTML += `
      <div class="border rounded-3 p-3 mb-3">
        <h6 class="fw-bold">${item.name} (x${item.quantity}) - â‚¹${(item.price * item.quantity).toFixed(2)}</h6>
        ${getProductFields(item)}
      </div>`;
  });
});

// Handle Order Submit
document.getElementById('orderForm').addEventListener('submit', function (e) {
  e.preventDefault();

  Swal.fire({
    title: 'ðŸŽ‰ Order Confirmed!',
    text: 'Thank you for shopping with FAB Men\'s Wear.',
    icon: 'success',
    confirmButtonText: 'OK',
    confirmButtonColor: '#28a745'
  }).then(() => {
    localStorage.removeItem('bagItems'); // Clear Bag after Order
    window.location.href = "index.html"; // Redirect to Home
  });
});
</script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
